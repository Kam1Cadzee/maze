(this.webpackJsonpmaze=this.webpackJsonpmaze||[]).push([[0],{19:function(n,t,e){n.exports=e(27)},24:function(n,t,e){},27:function(n,t,e){"use strict";e.r(t);var r,a=e(1),i=e.n(a),c=e(10),u=e.n(c),o=(e(24),e(4)),l=e(2),s=e(16),E=e(3),f=e(5),m=e(11),O=e(12),p=e(7),S=e.n(p);!function(n){n[n.UP=0]="UP",n[n.DOWN=1]="DOWN",n[n.LEFT=2]="LEFT",n[n.RIGHT=3]="RIGHT"}(r||(r={}));var b=function(){function n(){var t=this;Object(m.a)(this,n),this._startPosition=0,this._finishPosition=-1,this._path=[],this._currentStep=0,this.COUNT_FIELDS=3,this.COUNT_STEPS=10,this._parts=void 0,this.splitNumber=function(n){return{row:Math.floor(n/t.COUNT_FIELDS),column:n%t.COUNT_FIELDS}},this.generate=function(){for(var n=t.splitNumber(t._startPosition),e=Math.floor(t.COUNT_STEPS/2),a=0;a<t.COUNT_STEPS;a++){a%e===0&&t.fillPart(n.row,n.column);var i=t.getStep(n);i===r.UP?n.row--:i===r.DOWN?n.row++:i===r.RIGHT?n.column++:n.column--,t._path.push(i)}t._finishPosition=n.row*t.COUNT_FIELDS+n.column},this.getStep=function(n){var e=S()(0,t._parts[3].max),a=t._parts.find((function(n){return e<=n.max})).direction;return a===r.UP?n.row-1<0?r.DOWN:r.UP:a===r.DOWN?n.row+1>=t.COUNT_FIELDS?r.UP:r.DOWN:a===r.LEFT?n.column-1<0?r.RIGHT:r.LEFT:n.column+1>=t.COUNT_FIELDS?r.LEFT:r.RIGHT},this.fillPart=function(n,e){var r=n,a=t.COUNT_FIELDS-n-1,i=e,c=t.COUNT_FIELDS-e-1,u=2*(t.COUNT_FIELDS-1),o=Math.ceil(100*r/u);t._parts[0].max=o,o+=Math.ceil(100*a/u),t._parts[1].max=o,o+=Math.ceil(100*i/u),t._parts[2].max=o,o+=Math.ceil(100*c/u),t._parts[3].max=o},this.start=function(n,e){t.COUNT_FIELDS=n,t.COUNT_STEPS=e,t._finishPosition=-1,t._path=[],t._currentStep=0,t._startPosition=S()(0,t.COUNT_FIELDS*t.COUNT_FIELDS-1),t.generate()},this.next=function(){return t._currentStep===t.COUNT_STEPS?null:t._path[t._currentStep++]},this._parts=[{direction:r.UP,max:0},{direction:r.DOWN,max:0},{direction:r.LEFT,max:0},{direction:r.RIGHT,max:0}],this.start(this.COUNT_FIELDS,this.COUNT_STEPS)}return Object(O.a)(n,[{key:"finish",get:function(){return this._finishPosition}},{key:"startPosition",get:function(){return this._startPosition}}]),n}(),_=i.a.createContext({COUNT_STEPS:10,COUNT_FIELDS:3}),T=function(n){var t=n.children,e=Object(a.useState)(3),r=Object(o.a)(e,2),c=r[0],u=r[1],l=Object(a.useState)(10),s=Object(o.a)(l,2),E=s[0],f=s[1],m=Object(a.useMemo)((function(){var n=window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight;return n>600?(n-360)/c:n/c}),[c]),O=Object(a.useMemo)((function(){return{COUNT_FIELDS:c,setCOUNT_FIELDS:u,COUNT_STEPS:E,setCOUNT_STEPS:f,FIELD_SIZE:m}}),[E,c]);return i.a.createElement(_.Provider,{value:O},t)},N=function(){var n=Object(a.useContext)(_),t=n.COUNT_FIELDS,e=n.setCOUNT_FIELDS,r=n.COUNT_STEPS,i=n.setCOUNT_STEPS,c=n.FIELD_SIZE;return{COUNT_FIELDS:t,setCOUNT_FIELDS:e,COUNT_STEPS:r,setCOUNT_STEPS:i,FIELD_SIZE:c,splitNumber:function(n){return{row:Math.floor(n/t),column:n%t}}}};function d(){var n=Object(l.a)(["\n  border: 1px dashed black;\n  cursor: pointer;\n"]);return d=function(){return n},n}function h(){var n=Object(l.a)(["\n  border: 1px solid #0000002e;\n"]);return h=function(){return n},n}function I(){var n=Object(l.a)(["\n  position: absolute;\n  margin: 0;\n  width: ","px;\n  height: ","px;\n  left: ","px;\n  top: ","px;\n  svg {\n    height: ","px;\n    width: ","px;\n  }\n"]);return I=function(){return n},n}function D(){var n=Object(l.a)(["\n  display: grid;\n  grid-template-columns: repeat(\n    ",",\n    ","px\n  );\n  grid-template-rows: repeat(2, ","px);\n  grid-gap: ","px;\n"]);return D=function(){return n},n}function U(){var n=Object(l.a)(["\n  position: relative;\n  display: grid;\n  grid-template-columns: repeat(\n    ",",\n    ","px\n  );\n  grid-template-rows: repeat(\n    ",",\n    ","px\n  );\n  grid-gap: ","px;\n  margin-bottom: 16px;\n"]);return U=function(){return n},n}function x(){var n=Object(l.a)(["\n  border-radius: 5px;\n  background-color: ",";\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n"]);return x=function(){return n},n}var v=E.a.div(x(),(function(n){return n.color})),C=E.a.div(U(),(function(n){return n.COUNT_FIELDS}),(function(n){return n.FIELD_SIZE}),(function(n){return n.COUNT_FIELDS}),(function(n){return n.FIELD_SIZE}),(function(n){return 24/n.COUNT_FIELDS})),F=function(n){var t=N(),e=t.COUNT_FIELDS,r=t.FIELD_SIZE;return i.a.createElement(C,Object.assign({COUNT_FIELDS:e,FIELD_SIZE:r},n))},L=E.a.div(D(),(function(n){return n.COUNT_STEPS/2}),30,30,(function(n){return 48/n.COUNT_STEPS})),j=function(n){var t=N().COUNT_STEPS;return i.a.createElement(L,Object.assign({COUNT_STEPS:t},n))},g=Object(E.a)(v)(I(),(function(n){return n.FIELD_SIZE}),(function(n){return n.FIELD_SIZE}),(function(n){return n.left}),(function(n){return n.top}),(function(n){return n.FIELD_SIZE/2}),(function(n){return n.FIELD_SIZE/2})),P=function(n){var t=N(),e=t.FIELD_SIZE,r=t.splitNumber,a=t.COUNT_FIELDS,c=r(n.number),u=c.row,o=c.column,l=24/a,s=o*e+l*o,E=u*e+l*u;return i.a.createElement(g,Object.assign({FIELD_SIZE:e,left:s,top:E},n))},w=Object(E.a)(v)(h()),k=Object(E.a)(v)(d()),W=e(29),y=e(28);function Z(){var n=Object(l.a)(["\n  font-size: 1rem;\n  border: 1px solid black;\n  margin-bottom: 8px;\n  padding: 2px 8px;\n"]);return Z=function(){return n},n}function M(){var n=Object(l.a)(["\n  border: 1px solid black;\n  border-radius: 3px;\n  padding: 4px 8px;\n  cursor: pointer;\n"]);return M=function(){return n},n}function H(){var n=Object(l.a)(["\n  position: absolute;\n  width: 20px;\n  height: calc(100% + 2px);\n  background-color: black;\n  top: -1px;\n  left: 0;\n  transform: translateX(-100%);\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  svg {\n    fill: white;\n  }\n"]);return H=function(){return n},n}function R(){var n=Object(l.a)(["\n  border: 1px solid black;\n  position: absolute;\n  right: -1px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transform: translateX(",");\n  padding: 8px 16px;\n  transition: transform 300ms;\n"]);return R=function(){return n},n}var G=E.a.div(R(),(function(n){return n.show?"0":"100%"})),z=E.a.div(H()),A=E.a.button(M()),J=E.a.input(Z()),X=function(n){var t=n.win,e=n.count,r=n.restart,c=n.show,u=n.setShow,l=N(),s=l.COUNT_FIELDS,E=l.COUNT_STEPS,f=Object(a.useState)(s),m=Object(o.a)(f,2),O=m[0],p=m[1],S=Object(a.useState)(E),b=Object(o.a)(S,2),_=b[0],T=b[1];return i.a.createElement(G,{show:c},i.a.createElement("p",null,t," / ",e),i.a.createElement(J,{type:"number",value:O,onChange:function(n){var t=+n.target.value;t>=3&&t<=18&&p(t)},max:18,min:3}),i.a.createElement(J,{type:"number",step:2,value:_,onChange:function(n){var t=+n.target.value;t>=10&&t<=30&&T(t)},min:10,max:30}),i.a.createElement(A,{onClick:function(){return r(O,_)}},"Restart"),i.a.createElement(z,{onClick:u},c?i.a.createElement(y.b,null):i.a.createElement(y.a,null)))};function B(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return B=function(){return n},n}function q(){var n=Object(l.a)(["\n  color: black;\n  text-align: center;\n  padding: 0 16px;\n  align-self: center;\n"]);return q=function(){return n},n}var K,Q=E.a.h1(q()),V=E.a.div(B());!function(n){n[n.WIN=0]="WIN",n[n.LOSE=1]="LOSE",n[n.UNDEFINED=2]="UNDEFINED"}(K||(K={}));var Y=function(n){var t=n.direction;return t===r.UP?i.a.createElement(f.f,null):t===r.DOWN?i.a.createElement(f.c,null):t===r.LEFT?i.a.createElement(f.d,null):i.a.createElement(f.e,null)},$=function(){var n=N(),t=n.COUNT_FIELDS,e=n.setCOUNT_FIELDS,r=n.setCOUNT_STEPS,c=Object(a.useMemo)((function(){return new b}),[]),u=Object(a.useState)([]),l=Object(o.a)(u,2),E=l[0],m=l[1],O=Object(a.useState)(!1),p=Object(o.a)(O,2),S=p[0],_=p[1],T=Object(a.useState)(K.UNDEFINED),d=Object(o.a)(T,2),h=d[0],I=d[1],D=Object(a.useState)(-1),U=Object(o.a)(D,2),x=U[0],v=U[1],C=Object(a.useState)(!1),L=Object(o.a)(C,2),g=L[0],y=L[1],Z=Object(a.useState)(0),M=Object(o.a)(Z,2),H=M[0],R=M[1],G=Object(a.useState)(0),z=Object(o.a)(G,2),A=z[0],J=z[1];Object(a.useEffect)((function(){setTimeout((function(){return function(){var n=c.next();null!==n?(E.push(n),m(Object(s.a)(E))):_(!0)}()}),100)}),[c,E]);var B=function(n){S&&h===K.UNDEFINED&&(c.finish===n?(I(K.WIN),R((function(n){return n+1}))):(I(K.LOSE),J((function(n){return n+1}))),v(n),y(!0))};return i.a.createElement(V,null,i.a.createElement(Q,null,"\u041b\u0430\u0431\u0438\u0440\u0438\u043d\u0442"),i.a.createElement(X,{win:H,count:A,restart:function(n,t){h!==K.UNDEFINED&&(r(t),e(n),m([]),I(K.UNDEFINED),_(!1),v(-1),c.start(n,t))},show:g,setShow:function(){return y((function(n){return!n}))}}),i.a.createElement(F,null,Array(t*t).fill("").map((function(n,t){return i.a.createElement(w,{onClick:function(){return B(t)}})})),h===K.UNDEFINED&&i.a.createElement(P,{number:c.startPosition,onClick:function(){return B(c.startPosition)}},i.a.createElement(f.b,null)),h===K.WIN&&i.a.createElement(P,{number:x},i.a.createElement(f.a,null)),h===K.LOSE&&i.a.createElement(i.a.Fragment,null,i.a.createElement(P,{number:c.finish},i.a.createElement(W.b,null)),i.a.createElement(P,{number:x},i.a.createElement(W.a,null)))),i.a.createElement(j,null,E.map((function(n,t){return i.a.createElement(k,null,i.a.createElement(Y,{direction:n}))}))))};function nn(){var n=Object(l.a)(["\n  border: 6px solid black;\n  font-size: 3rem;\n  padding: 16px 80px;\n  cursor: pointer;\n  box-shadow: 0.3em 0.3em 0 0 black, inset 0.3em 0.3em 0 0 black;\n  transition: all 300ms;\n\n  &:hover,\n  &:focus {\n    box-shadow: 0 0 0 0 black, inset 6em 3.5em 0 0 black;\n    color: white;\n  }\n"]);return nn=function(){return n},n}var tn=E.a.button(nn()),en=function(){var n=Object(a.useState)(!1),t=Object(o.a)(n,2),e=t[0],r=t[1];return i.a.createElement(T,null,i.a.createElement("div",{className:"App"},e?i.a.createElement($,null):i.a.createElement(tn,{onClick:function(){return r(!0)}},"Start")))};u.a.render(i.a.createElement(en,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.5bfcc10c.chunk.js.map