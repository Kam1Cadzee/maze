(this.webpackJsonpmaze=this.webpackJsonpmaze||[]).push([[0],{19:function(n,t,e){n.exports=e(27)},24:function(n,t,e){},27:function(n,t,e){"use strict";e.r(t);var r,a=e(1),i=e.n(a),u=e(10),c=e.n(u),o=(e(24),e(2)),l=e(16),s=e(3),E=e(4),f=e(5),O=e(11),S=e(12),p=e(7),m=e.n(p);!function(n){n[n.UP=0]="UP",n[n.DOWN=1]="DOWN",n[n.LEFT=2]="LEFT",n[n.RIGHT=3]="RIGHT"}(r||(r={}));var b=function(){function n(){var t=this;Object(O.a)(this,n),this._startPosition=0,this._finishPosition=-1,this._path=[],this._currentStep=0,this.COUNT_FIELDS=3,this.COUNT_STEPS=10,this.splitNumber=function(n){return{row:Math.floor(n/t.COUNT_FIELDS),column:n%t.COUNT_FIELDS}},this.generate=function(){for(var n=t.splitNumber(t._startPosition),e=0;e<t.COUNT_STEPS;e++){var a=t.getStep(n);a===r.UP?n.row--:a===r.DOWN?n.row++:a===r.RIGHT?n.column++:n.column--,t._path.push(a)}t._finishPosition=n.row*t.COUNT_FIELDS+n.column},this.getStep=function(n){var e=m()(0,3);return e===r.UP?n.row-1<0?r.DOWN:r.UP:e===r.DOWN?n.row+1>=t.COUNT_FIELDS?r.UP:r.DOWN:e===r.LEFT?n.column-1<0?r.RIGHT:r.LEFT:n.column+1>=t.COUNT_FIELDS?r.LEFT:r.RIGHT},this.start=function(n,e){t.COUNT_FIELDS=n,t.COUNT_STEPS=e,t._finishPosition=-1,t._path=[],t._currentStep=0,t._startPosition=m()(0,t.COUNT_FIELDS*t.COUNT_FIELDS-1),t.generate()},this.next=function(){return t._currentStep===t.COUNT_STEPS?null:t._path[t._currentStep++]},this.start(this.COUNT_FIELDS,this.COUNT_STEPS)}return Object(S.a)(n,[{key:"finish",get:function(){return this._finishPosition}},{key:"startPosition",get:function(){return this._startPosition}}]),n}(),T=i.a.createContext({COUNT_STEPS:10,COUNT_FIELDS:3}),N=function(n){var t=n.children,e=Object(a.useState)(3),r=Object(o.a)(e,2),u=r[0],c=r[1],l=Object(a.useState)(10),s=Object(o.a)(l,2),E=s[0],f=s[1],O=Object(a.useMemo)((function(){var n=window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight;return n>600?(n-360)/u:n/u}),[u]),S=Object(a.useMemo)((function(){return{COUNT_FIELDS:u,setCOUNT_FIELDS:c,COUNT_STEPS:E,setCOUNT_STEPS:f,FIELD_SIZE:O}}),[E,u]);return i.a.createElement(T.Provider,{value:S},t)},_=function(){var n=Object(a.useContext)(T),t=n.COUNT_FIELDS,e=n.setCOUNT_FIELDS,r=n.COUNT_STEPS,i=n.setCOUNT_STEPS,u=n.FIELD_SIZE;return{COUNT_FIELDS:t,setCOUNT_FIELDS:e,COUNT_STEPS:r,setCOUNT_STEPS:i,FIELD_SIZE:u,splitNumber:function(n){return{row:Math.floor(n/t),column:n%t}}}};function I(){var n=Object(s.a)(["\n  border: 1px dashed black;\n  cursor: pointer;\n"]);return I=function(){return n},n}function d(){var n=Object(s.a)(["\n  border: 1px solid #0000002e;\n"]);return d=function(){return n},n}function h(){var n=Object(s.a)(["\n  position: absolute;\n  margin: 0;\n  width: ","px;\n  height: ","px;\n  left: ","px;\n  top: ","px;\n  svg {\n    height: ","px;\n    width: ","px;\n  }\n"]);return h=function(){return n},n}function D(){var n=Object(s.a)(["\n  display: grid;\n  grid-template-columns: repeat(\n    ",",\n    ","px\n  );\n  grid-template-rows: repeat(2, ","px);\n  grid-gap: ","px;\n"]);return D=function(){return n},n}function U(){var n=Object(s.a)(["\n  position: relative;\n  display: grid;\n  grid-template-columns: repeat(\n    ",",\n    ","px\n  );\n  grid-template-rows: repeat(\n    ",",\n    ","px\n  );\n  grid-gap: ","px;\n  margin-bottom: 16px;\n"]);return U=function(){return n},n}function C(){var n=Object(s.a)(["\n  border-radius: 5px;\n  background-color: ",";\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n"]);return C=function(){return n},n}var F=E.a.div(C(),(function(n){return n.color})),j=E.a.div(U(),(function(n){return n.COUNT_FIELDS}),(function(n){return n.FIELD_SIZE}),(function(n){return n.COUNT_FIELDS}),(function(n){return n.FIELD_SIZE}),(function(n){return 24/n.COUNT_FIELDS})),v=function(n){var t=_(),e=t.COUNT_FIELDS,r=t.FIELD_SIZE;return i.a.createElement(j,Object.assign({COUNT_FIELDS:e,FIELD_SIZE:r},n))},g=E.a.div(D(),(function(n){return n.COUNT_STEPS/2}),30,30,(function(n){return 48/n.COUNT_STEPS})),L=function(n){var t=_().COUNT_STEPS;return i.a.createElement(g,Object.assign({COUNT_STEPS:t},n))},x=Object(E.a)(F)(h(),(function(n){return n.FIELD_SIZE}),(function(n){return n.FIELD_SIZE}),(function(n){return n.left}),(function(n){return n.top}),(function(n){return n.FIELD_SIZE/2}),(function(n){return n.FIELD_SIZE/2})),P=function(n){var t=_(),e=t.FIELD_SIZE,r=t.splitNumber,a=t.COUNT_FIELDS,u=r(n.number),c=u.row,o=u.column,l=24/a,s=o*e+l*o,E=c*e+l*c;return i.a.createElement(x,Object.assign({FIELD_SIZE:e,left:s,top:E},n))},w=Object(E.a)(F)(d()),k=Object(E.a)(F)(I()),y=e(29),W=e(28);function Z(){var n=Object(s.a)(["\n  font-size: 1rem;\n  border: 1px solid black;\n  margin-bottom: 8px;\n  padding: 2px 8px;\n"]);return Z=function(){return n},n}function H(){var n=Object(s.a)(["\n  border: 1px solid black;\n  border-radius: 3px;\n  padding: 4px 8px;\n  cursor: pointer;\n"]);return H=function(){return n},n}function R(){var n=Object(s.a)(["\n  position: absolute;\n  width: 20px;\n  height: calc(100% + 2px);\n  background-color: black;\n  top: -1px;\n  left: 0;\n  transform: translateX(-100%);\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  svg {\n    fill: white;\n  }\n"]);return R=function(){return n},n}function G(){var n=Object(s.a)(["\n  border: 1px solid black;\n  position: absolute;\n  right: -1px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transform: translateX(",");\n  padding: 8px 16px;\n  transition: transform 300ms;\n"]);return G=function(){return n},n}var M=E.a.div(G(),(function(n){return n.show?"0":"100%"})),z=E.a.div(R()),A=E.a.button(H()),J=E.a.input(Z()),X=function(n){var t=n.win,e=n.count,r=n.restart,u=n.show,c=n.setShow,l=_(),s=l.COUNT_FIELDS,E=l.COUNT_STEPS,f=Object(a.useState)(s),O=Object(o.a)(f,2),S=O[0],p=O[1],m=Object(a.useState)(E),b=Object(o.a)(m,2),T=b[0],N=b[1];return i.a.createElement(M,{show:u},i.a.createElement("p",null,t," / ",e),i.a.createElement(J,{type:"number",value:S,onChange:function(n){p(+n.target.value)},max:18,min:3}),i.a.createElement(J,{type:"number",step:2,value:T,onChange:function(n){N(+n.target.value)},min:10,max:30}),i.a.createElement(A,{onClick:function(){return r(S,T)}},"Restart"),i.a.createElement(z,{onClick:c},u?i.a.createElement(W.b,null):i.a.createElement(W.a,null)))};function B(){var n=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return B=function(){return n},n}function q(){var n=Object(s.a)(["\n  color: black;\n  text-align: center;\n  padding: 0 16px;\n  align-self: center;\n"]);return q=function(){return n},n}var K,Q=E.a.h1(q()),V=E.a.div(B());!function(n){n[n.WIN=0]="WIN",n[n.LOSE=1]="LOSE",n[n.UNDEFINED=2]="UNDEFINED"}(K||(K={}));var Y=function(n){var t=n.direction;return t===r.UP?i.a.createElement(f.f,null):t===r.DOWN?i.a.createElement(f.c,null):t===r.LEFT?i.a.createElement(f.d,null):i.a.createElement(f.e,null)},$=function(){var n=_(),t=(n.COUNT_STEPS,n.COUNT_FIELDS),e=n.setCOUNT_FIELDS,r=n.setCOUNT_STEPS,u=Object(a.useRef)(new b).current,c=Object(a.useState)([]),s=Object(o.a)(c,2),E=s[0],O=s[1],S=Object(a.useState)(!1),p=Object(o.a)(S,2),m=p[0],T=p[1],N=Object(a.useState)(K.UNDEFINED),I=Object(o.a)(N,2),d=I[0],h=I[1],D=Object(a.useState)(-1),U=Object(o.a)(D,2),C=U[0],F=U[1],j=Object(a.useState)(!1),g=Object(o.a)(j,2),x=g[0],W=g[1],Z=Object(a.useState)(0),H=Object(o.a)(Z,2),R=H[0],G=H[1],M=Object(a.useState)(0),z=Object(o.a)(M,2),A=z[0],J=z[1];Object(a.useEffect)((function(){setTimeout((function(){return function(){var n=u.next();null!==n?(E.push(n),O(Object(l.a)(E))):T(!0)}()}),100)}),[u,E]);var B=function(n){console.log(n),m&&d===K.UNDEFINED&&(u.finish===n?(h(K.WIN),G((function(n){return n+1}))):(h(K.LOSE),J((function(n){return n+1}))),F(n),W(!0))};return i.a.createElement(V,null,i.a.createElement(Q,null,"\u041b\u0430\u0431\u0438\u0440\u0438\u043d\u0442"),i.a.createElement(X,{win:R,count:A,restart:function(n,t){d!==K.UNDEFINED&&(r(t),e(n),O([]),h(K.UNDEFINED),T(!1),F(-1),u.start(n,t))},show:x,setShow:function(){return W((function(n){return!n}))}}),i.a.createElement(v,null,Array(t*t).fill("").map((function(n,t){return i.a.createElement(w,{onClick:function(){return B(t)}})})),d===K.UNDEFINED&&i.a.createElement(P,{number:u.startPosition,onClick:function(){return B(u.startPosition)}},i.a.createElement(f.b,null)),d===K.WIN&&i.a.createElement(P,{number:C},i.a.createElement(f.a,null)),d===K.LOSE&&i.a.createElement(i.a.Fragment,null,i.a.createElement(P,{number:u.finish},i.a.createElement(y.b,null)),i.a.createElement(P,{number:C},i.a.createElement(y.a,null)))),i.a.createElement(L,null,E.map((function(n,t){return i.a.createElement(k,null,i.a.createElement(Y,{direction:n}))}))))},nn=function(){var n=Object(a.useState)(!0),t=Object(o.a)(n,2),e=t[0],r=t[1];return i.a.createElement(N,null,i.a.createElement("div",{className:"App"},e?i.a.createElement($,null):i.a.createElement("button",{onClick:function(){return r(!1)}},"Start")))};c.a.render(i.a.createElement(nn,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.3229b8bf.chunk.js.map